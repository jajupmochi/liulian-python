# Adaptation Report

**Run ID:** {{ run_id }}  
**Timestamp:** {{ timestamp }}  
**Status:** {{ status }}

---

## Configuration

**Target Project:** `{{ target_project.path }}`  
**Package:** `{{ target_project.package_name }}`

**Reference Projects:**
{% for ref in reference_projects %}
- **C_r{{ loop.index }}:** `{{ ref.path }}`
  - Source: {{ ref.source }}
{% if ref.timestamp %}  - Cloned: {{ ref.timestamp }}{% endif %}
{% endfor %}

**Items Adapted:**
{% for item in items %}
- {{ item }}
{% endfor %}

**Configuration:**
- Dry Run: {{ config.dry_run }}
- Mode: {{ config.mode }}
- Auto Test: {{ config.auto_test }}
- Feature Branch: `{{ feature_branch }}`

---

## Changes Summary

**Total Changes:** {{ total_changes }}

- Files created: {{ files_created }}
- Files modified: {{ files_modified }}
- Total lines added: {{ lines_added }}
- Total lines removed: {{ lines_removed }}

---

## Completed Adaptations

{% for item in completed_items %}
### {{ loop.index }}. {{ item.name }} [{{ item.status }}]

**Source:** {{ item.source }}  
**Files created:** {{ item.files_created }}  
**Files modified:** {{ item.files_modified }}  
**Tests:** {{ item.tests_passed }}/{{ item.tests_total }} passed  
**Commits:** {{ item.commits }}  
**Conflicts resolved:** {{ item.conflicts_resolved }}

{% endfor %}

---

{% if failed_items %}
## Failed/Skipped Adaptations

{% for item in failed_items %}
### {{ loop.index }}. {{ item.name }} [{{ item.status }}]

**Reason:** {{ item.reason }}

{% endfor %}
{% endif %}

---

## Conflicts Resolved

{% if conflicts_resolved %}
{% for conflict in conflicts_resolved %}
- **{{ conflict.description }}**
  - Resolution: {{ conflict.resolution }}
{% endfor %}
{% else %}
No conflicts detected or all deferred.
{% endif %}

---

## Resource Usage

- **Token usage:** {{ token_usage | number_format }} / {{ token_budget | number_format }} ({{ (token_usage / token_budget * 100) | round(1) }}%)
- **Copilot requests:** {{ copilot_requests }} / {{ copilot_request_budget }} ({{ (copilot_requests / copilot_request_budget * 100) | round(1) }}%)

---

## Artifacts Location

All adaptation artifacts saved to:

```
{{ artifacts_path }}
```

**Contents:**
- `plan.yaml` - Complete adaptation plan
- `config.json` - Run configuration
- `conflict_resolutions.yaml` - Conflict resolution record
- `changes/` - Patch files for each change
- `tests/` - Test execution results
- `commits/` - Commit metadata
- `report.json` - Machine-readable report
- `adaptation_summary.txt` - One-line summary

---

## Suggested Next Steps

1. **Review changes:** `git diff main..{{ feature_branch }}`
2. **Run full test suite:** `pytest`
3. **Update documentation** to reflect new components
4. **Merge feature branch:** `git checkout main && git merge {{ feature_branch }}`

{% if skill_suggestions %}
---

## Skill Self-Modification Suggestions

{% for suggestion in skill_suggestions %}
### {{ loop.index }}. {{ suggestion.title }} [{{ suggestion.priority }}]

**Category:** {{ suggestion.category }}  
**Description:** {{ suggestion.description }}  
**Impact:** {{ suggestion.impact }}  
**Risk:** {{ suggestion.risk }}

{% endfor %}
{% endif %}

---

*Report generated by project-adaptor skill*
